# üß© F-Front 3.1 ‚Äî Seller Catalog Management

## üéØ Objetivo

Disponibilizar ao usu√°rio em **contexto Seller** uma interface para **gerenciar seu cat√°logo de produtos**, permitindo criar, visualizar e editar ofertas comerciais baseadas nos produtos globais definidos no backend (F3.1 ‚Äî Product Catalog Core).

Essa feature √© o primeiro ponto onde o Seller passa a **operar comercialmente** dentro da plataforma.

---

## üß† Contexto

At√© este ponto, o frontend j√° oferece:

* Autentica√ß√£o
* Sele√ß√£o de organiza√ß√£o ativa
* Separa√ß√£o clara de contextos (Farm / Seller / Admin)
* Layout autenticado com guards e interceptors

Com a F-Front 3.1, o Seller deixa de ser apenas uma entidade cadastrada e passa a **atuar como fornecedor**, definindo:

* Quais produtos vende
* Por qual pre√ßo
* Se a oferta est√° dispon√≠vel

Essa funcionalidade consome diretamente o backend da **F3.2 ‚Äî Seller Catalog & Offers**.

---

## üì¶ Escopo

### üìå Rotas

Adicionar as seguintes rotas em `SELLER_ROUTES`:

* `/seller/catalog`
* `/seller/catalog/new`
* `/seller/catalog/:sellerProductId/edit`

Todas as rotas:

* Exigem autentica√ß√£o
* Exigem organiza√ß√£o ativa do tipo **Seller**
* Respeitam roles permitidas (ex.: `SellerOwner`, `SellerAdmin`)

---

### üñ•Ô∏è Telas e Componentes

#### 1Ô∏è‚É£ SellerCatalogPage (Listagem)

**Responsabilidade:**
Exibir o cat√°logo atual do Seller ativo.

**Elementos da UI:**

* Tabela/lista contendo:

  * Nome do produto
  * Categoria
  * Pre√ßo
  * Status (Dispon√≠vel / Indispon√≠vel)
  * A√ß√µes (Editar)
* Bot√£o prim√°rio:

  * ‚ÄúAdicionar produto ao cat√°logo‚Äù
* Pagina√ß√£o b√°sica
* Campo de busca por nome do produto

**Estados esperados:**

* Loading inicial
* Estado vazio (Seller sem produtos cadastrados)
* Estado de erro (falha na API)

---

#### 2Ô∏è‚É£ SellerCatalogFormPage (Cadastro / Edi√ß√£o)

**Responsabilidade:**
Criar ou editar uma oferta de produto do Seller.

**Campos do formul√°rio:**

* Produto (select com busca remota)

  * Fonte: cat√°logo global de produtos
* Pre√ßo
* Moeda (fixa em BRL nesta fase)
* Disponibilidade (checkbox)

**Comportamento:**

* Valida√ß√£o de campos obrigat√≥rios
* Submit chama endpoint adequado (POST ou PUT)
* Cancelar retorna √† listagem

---

### üîå Integra√ß√£o com Backend

#### Endpoints Consumidos

* `GET /api/sellers/{sellerId}/catalog`
* `POST /api/sellers/{sellerId}/catalog`
* `PUT /api/sellers/{sellerId}/catalog/{sellerProductId}`
* `GET /api/products` (para sele√ß√£o de produto global)

#### Regras de Integra√ß√£o

* `sellerId` deve ser obtido a partir da **organiza√ß√£o ativa**
* Headers de contexto (`X-Organization-Id`) aplicados automaticamente
* Todas as chamadas passam pelos interceptors globais

---

## üé® UX / UI Guidelines

* Feedback visual claro para:

  * Sucesso (toast)
  * Erro (toast ou mensagem inline)
* Estados vazios com CTA expl√≠cito
* N√£o permitir duplica√ß√£o visual de produto j√° ofertado
* Formul√°rios seguem padr√£o j√° usado em login e cadastro
* Layout consistente com `AppLayoutComponent`

---

## üö´ Fora de Escopo

* Gest√£o de estoque f√≠sico
* Frete
* Promo√ß√µes e descontos
* Carrinho
* Pedido ou pagamento
* Importa√ß√£o em massa de produtos

---

## ‚úÖ Crit√©rios de Aceite

* Seller consegue acessar a rota `/seller/catalog`
* Seller visualiza corretamente seu cat√°logo
* Seller consegue adicionar um produto ao cat√°logo
* Seller consegue editar pre√ßo e disponibilidade
* N√£o √© poss√≠vel adicionar o mesmo produto duas vezes
* Restri√ß√µes de acesso por contexto e role funcionam
* Erros da API s√£o tratados e exibidos corretamente
* UI apresenta estados de loading e vazio
* Nenhuma depend√™ncia direta com telas de Farmer ou Admin

---

## üß≠ Observa√ß√µes T√©cnicas

* Feature depende diretamente de:

  * Backend F3.2 ‚Äî Seller Catalog & Offers
* Deve reutilizar:

  * Guards de autentica√ß√£o
  * `ActiveOrganizationStore`
  * Infra de erro global
* Estrutura recomendada:

  * `src/app/seller/catalog/`

    * `pages`
    * `components`
    * `services`