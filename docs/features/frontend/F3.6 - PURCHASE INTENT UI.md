# ğŸ¨ F3.6 â€” Seller Catalog & Marketplace Browsing (Frontend)

## ğŸ¯ Objetivo

Implementar no frontend as **telas principais da Fase 3** relacionadas a:

* **GestÃ£o de catÃ¡logo do Seller**
* **NavegaÃ§Ã£o e consulta do Marketplace pelo Farmer**

Esta feature conecta o frontend aos endpoints expostos na **F3.5.B2**, permitindo que Sellers configurem seus produtos e Farmers naveguem e comparem ofertas.

---

## ğŸ§  Contexto

Com o backend F3.5.B2 concluÃ­do, o sistema jÃ¡ expÃµe:

* CatÃ¡logo global de produtos
* CatÃ¡logo de produtos por Seller
* Marketplace read-only para Farmers

O frontend, atÃ© este ponto, ainda nÃ£o oferece nenhuma interface para consumir essas capacidades.

A F3.6 entrega o **primeiro valor visual da Fase 3**, permitindo interaÃ§Ã£o real com o marketplace.

---

## ğŸ“¦ Escopo

### ğŸ“Œ Seller â€” GestÃ£o de CatÃ¡logo

#### Rotas (SELLER_ROUTES)

* `/seller/catalog`
* `/seller/catalog/new`
* `/seller/catalog/:sellerProductId/edit`

---

### ğŸ–¥ï¸ Telas

#### SellerCatalogPage

**Responsabilidade:**

* Exibir o catÃ¡logo do Seller ativo.

**Elementos:**

* Lista/tabela com:

  * Nome do produto
  * Categoria
  * PreÃ§o
  * Disponibilidade
  * AÃ§Ãµes (Editar)
* BotÃ£o â€œAdicionar produto ao catÃ¡logoâ€
* Busca por nome de produto
* PaginaÃ§Ã£o simples

**Estados:**

* Loading
* Empty (â€œNenhum produto no catÃ¡logoâ€)
* Error

---

#### SellerCatalogFormPage

**Responsabilidade:**

* Criar ou editar produtos do catÃ¡logo do Seller.

**Campos:**

* Produto (select remoto via `/api/products`)
* PreÃ§o
* Disponibilidade
* Moeda fixa: BRL

**Comportamento:**

* ValidaÃ§Ã£o de campos obrigatÃ³rios
* Submit:

  * Novo â†’ `POST /api/sellers/{sellerId}/catalog`
  * EdiÃ§Ã£o â†’ `PUT /api/sellers/{sellerId}/catalog/{sellerProductId}`
* Tratamento de erro de duplicidade (409)

---

### ğŸ“Œ Farmer â€” Marketplace Browsing

#### Rotas (FARMER_ROUTES)

* `/marketplace`
* `/marketplace/products/:productId`

---

### ğŸ–¥ï¸ Telas

#### MarketplaceListPage

**Responsabilidade:**

* Exibir produtos disponÃ­veis no marketplace.

**Elementos:**

* Busca por nome
* Filtro por categoria
* Lista de produtos com:

  * Nome
  * Categoria
  * Badge â€œRequer receitaâ€
  * Melhor preÃ§o disponÃ­vel
* AÃ§Ã£o â€œVer ofertasâ€

---

#### MarketplaceProductDetailPage

**Responsabilidade:**

* Exibir detalhes do produto e ofertas disponÃ­veis.

**Elementos:**

* InformaÃ§Ãµes do produto
* Lista de ofertas:

  * Seller
  * PreÃ§o
  * Disponibilidade
* CTA visual para â€œSolicitar cotaÃ§Ã£oâ€ (nÃ£o funcional ainda)

---

### ğŸ“Œ ServiÃ§os de IntegraÃ§Ã£o

Criar serviÃ§os Angular:

* `SellerCatalogApiService`
* `MarketplaceApiService`

ResponsÃ¡veis por:

* Chamar endpoints F3.5.B2
* Resolver organizaÃ§Ã£o ativa via `ActiveOrganizationStore`
* Centralizar chamadas HTTP

---

## ğŸš« Fora de Escopo

* IntenÃ§Ã£o de compra (Purchase Intent)
* Carrinho
* Pedido
* Pagamento
* Layout pÃºblico do marketplace

---

## âœ… CritÃ©rios de Aceite

* Seller consegue gerenciar seu catÃ¡logo via UI
* Farmer consegue navegar pelo marketplace
* Endpoints F3.5.B2 sÃ£o consumidos corretamente
* Estados de loading/empty/error tratados
* Guards por contexto (Seller/Farm) funcionando
* Nenhuma regressÃ£o em telas existentes

---

# ğŸ§¾ F3.5.F2 â€” Purchase Intent UI (Frontend)

## ğŸ¯ Objetivo

Implementar no frontend o **fluxo completo de IntenÃ§Ã£o de Compra**, permitindo que o Farmer manifeste interesse em uma oferta do marketplace e acompanhe o status das suas solicitaÃ§Ãµes.

Esta feature fecha o ciclo funcional da Fase 3 no frontend.

---

## ğŸ§  Contexto

ApÃ³s a F3.6, o Farmer jÃ¡ consegue:

* Navegar no marketplace
* Visualizar ofertas de Sellers

A F3.5.F2 adiciona a **primeira aÃ§Ã£o comercial ativa** do usuÃ¡rio.

---

## ğŸ“¦ Escopo

### ğŸ“Œ Rotas (FARMER_ROUTES)

* `/marketplace/products/:productId/intent`
* `/farmer/purchase-intents`

---

### ğŸ–¥ï¸ Telas

#### PurchaseIntentCreatePage

**Responsabilidade:**

* Criar uma nova intenÃ§Ã£o de compra.

**Campos:**

* Produto (read-only)
* Seller (read-only)
* Quantidade
* ObservaÃ§Ãµes (opcional)

**Comportamento:**

* ValidaÃ§Ã£o de quantidade > 0
* Submit â†’ `POST /api/purchase-intents`
* Feedback de sucesso
* Redirect para â€œMinhas solicitaÃ§Ãµesâ€

---

#### FarmerPurchaseIntentListPage

**Responsabilidade:**

* Exibir as intenÃ§Ãµes de compra da Farm ativa.

**Elementos:**

* Lista com:

  * Produto
  * Seller
  * Quantidade
  * Status (badge colorido)
  * Data
* OrdenaÃ§Ã£o por data (desc)

**Estados:**

* Loading
* Empty
* Error

---

### ğŸ“Œ ServiÃ§os de IntegraÃ§Ã£o

Criar:

* `PurchaseIntentApiService`

ResponsÃ¡vel por:

* `createPurchaseIntent`
* `getMyPurchaseIntents`

---

## ğŸš« Fora de Escopo

* AÃ§Ã£o do Seller sobre a intenÃ§Ã£o (aceitar/rejeitar)
* Chat Farmer â†” Seller
* ConversÃ£o em pedido
* Upload de documentos

---

## âœ… CritÃ©rios de Aceite

* Farmer consegue criar uma intenÃ§Ã£o de compra
* IntenÃ§Ãµes aparecem corretamente na listagem
* Status exibidos corretamente
* Feedback visual claro
* IntegraÃ§Ã£o correta com backend F3.6
* Nenhuma aÃ§Ã£o financeira ocorre